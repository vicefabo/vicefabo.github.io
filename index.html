<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Page</title>

<style>
body {
  margin: 0;
  background: #000;
  font-family: Helvetica, Arial, sans-serif;
  overflow: hidden;
  color: white;
}

/* ===== COVERFLOW ===== */

.wrapper {
  position: relative;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: none;
  transition: opacity 0.5s ease;
}

.coverflow {
  display: flex;
  gap: 25px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  padding: 0 35vw;
}

.coverflow::-webkit-scrollbar { display: none; }

.card { 
  flex: 0 0 260px;
  height: 380px;
  scroll-snap-align: center;
  transition: transform 0.4s ease, opacity 0.4s ease;
  transform-style: preserve-3d;
  cursor: pointer;
  position: relative;
  overflow: hidden;
}

/* Default image cards */
.card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Coverflow states */
.card {
  transform: scale(0.8);
  opacity: 0.4;
}

.card.left {
  transform: scale(0.85) translateX(-40px);
  opacity: 0.6;
}

.card.right {
  transform: scale(0.85) translateX(40px);
  opacity: 0.6;
}

.card.active {
  transform: scale(1);
  opacity: 1;
}

/* Coming Soon Style */
.coming-card {
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid white;
  font-size: 14px;
  letter-spacing: 3px;
}

/* Arrows (Library) */
.arrow {
  position: absolute;
  font-size: 40px;
  color: white;
  background: none;
  border: none;
  cursor: pointer;
  z-index: 5;
}
.left-arrow { left: 30px; }
.right-arrow { right: 30px; }

/* ===== GALLERY VIEW ===== */

.gallery-view {
  position: fixed;
  inset: 0;
  background: black;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s ease;
}

.gallery-view.active {
  opacity: 1;
  pointer-events: all;
}

.gallery-image {
  width: 60%;
  max-width: 700px;
  height: 80%;
}

.gallery-image img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* Centered gallery arrows */
.gallery-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 50px;
  cursor: pointer;
  user-select: none;
}

.gallery-left { left: 40px; }
.gallery-right { right: 40px; }

.back-btn {
  position: absolute;
  top: 30px;
  left: 30px;
  font-size: 14px;
  letter-spacing: 2px;
  cursor: pointer;
}

/* Mobile */
@media (max-width: 768px) {
  .card { flex: 0 0 220px; height: 320px; }
  .gallery-image { width: 90%; height: 70%; }
}
</style>
</head>

<body>

<!-- ===== LIBRARY ===== -->

<div class="wrapper" id="library">
  <button class="arrow left-arrow">&#8249;</button>

  <div class="coverflow" id="coverflow">

    <!-- OPENABLE -->
    <div class="card active openable">
      <img src="thumbnail1.jpg">
    </div>

    <div class="card coming-card">COMING SOON</div>
    <div class="card coming-card">COMING SOON</div>
    <div class="card coming-card">COMING SOON</div>

  </div>

  <button class="arrow right-arrow">&#8250;</button>
</div>


<div class="gallery-view" id="gallery">
  <div class="back-btn" onclick="closeGallery()">BACK</div>

  <div class="gallery-arrow gallery-left" onclick="prevImage()">&#8249;</div>

  <div class="gallery-image">
    <img id="galleryImg" src="look1.jpg">
  </div>

  <div class="gallery-arrow gallery-right" onclick="nextImage()">&#8250;</div>
</div>

<script>
const coverflow = document.getElementById("coverflow");
const cards = document.querySelectorAll(".card");
const library = document.getElementById("library");
const gallery = document.getElementById("gallery");

let index = 0;

function updateCards() {
  cards.forEach((card, i) => {
    card.classList.remove("active", "left", "right");

    if (i === index) card.classList.add("active");
    else if (i < index) card.classList.add("left");
    else card.classList.add("right");
  });

  cards[index].scrollIntoView({ behavior: "smooth", inline: "center" });
}


document.querySelector(".left-arrow").onclick = () => {
  index = (index - 1 + cards.length) % cards.length;
  updateCards();
};

document.querySelector(".right-arrow").onclick = () => {
  index = (index + 1) % cards.length;
  updateCards();
};

updateCards();

/* ===== GALLERY ===== */

const images = ["look1.jpg","look2.jpg","look4.jpg","look5.jpg","11.jpg"];
let currentImage = 0;

function openGallery() {
  library.style.opacity = "0";
  setTimeout(() => {
    library.style.display = "none";
    gallery.classList.add("active");
  }, 500);
}

function closeGallery() {
  gallery.classList.remove("active");
  library.style.display = "flex";
  setTimeout(() => {
    library.style.opacity = "1";
  }, 10);
}

function nextImage() {
  currentImage = (currentImage + 1) % images.length;
  document.getElementById("galleryImg").src = images[currentImage];
}

function prevImage() {
  currentImage = (currentImage - 1 + images.length) % images.length;
  document.getElementById("galleryImg").src = images[currentImage];
}

/* Only open if active and openable */
cards.forEach((card) => {
  card.addEventListener("click", () => {
    if (card.classList.contains("openable") && card.classList.contains("active")) {
      openGallery();
    }
  });
});
</script>

</body>
</html>
